(this["webpackJsonpmy-data-table"]=this["webpackJsonpmy-data-table"]||[]).push([[0],[,,,,,,,,,,function(e,a,t){},function(e,a,t){},function(e,a,t){},,function(e,a,t){"use strict";t.r(a);var n=t(1),l=t.n(n),r=t(4),i=t.n(r),u=(t(10),t(2)),s=(t(11),t(12),t(5)),c=t.n(s),o=t(0),d=function(e){var a=e.columns,t=e.data;return Object(o.jsxs)("table",{className:"table",children:[Object(o.jsx)("thead",{className:"table__head",children:Object(o.jsx)("tr",{children:a.map((function(e,a){return Object(o.jsx)("th",{className:"table__header table__cell",title:e.rule,children:e.name},a)}))})}),Object(o.jsx)("tbody",{className:"table__body",children:t.map((function(e,a){return Object(o.jsx)("tr",{children:e.map((function(e,a){return Object(o.jsx)("td",{className:c()("table__cell",{"table__cell-invalid":!e.validation}),children:e.value},a)}))},a)}))})]})};var v=function(){var e=Object(n.useState)([]),a=Object(u.a)(e,2),t=a[0],r=a[1],i=Object(n.useState)([]),s=Object(u.a)(i,2),c=s[0],v=s[1],h=Object(n.useState)(!1),b=Object(u.a)(h,2),m=b[0],f=b[1],p=function(e){var a=e.split(/\r\n|\n/),t=a[0].split(";");t.unshift("ID"),t.push("Dublicate with");var n=t.map((function(e){return e.toLowerCase()}));n.includes("email")&&n.includes("phone")&&n.includes("full name")?f(!1):(f(!0),console.log("bad"));var l=a.slice(1).map((function(e,a){return("".concat(a+1,"; ")+e+"; ").split(/;(?![^"]*"(?:(?:[^"]*"){2})*[^"]*$)/).map((function(e,a){return{name:t[a],value:e.trim(),validation:!0}}))})).slice(0,-1);var i=l.map((function(e,a){return e.map((function(a,t){switch(a.name.toLowerCase()){case"phone":a.validation=function(e){var a=e.slice(-10);return!!Number.isInteger(+a)&&!(e.length>12||e.length<10)&&(12!==e.length||(a=e.slice(2),"+1"===e.slice(0,2)))&&(11!==e.length||(a=e.slice(2),"1"===e.slice(0,1)))}(a.value),a.validation&&10===a.value.length&&(a.value="+1"+a.value),a.validation&&11===a.value.length&&(a.value="+"+a.value);break;case"age":a.validation=!((l=a.value)<21||!Number.isInteger(+l));break;case"experience":(!Number.isInteger(+a.value)||a.value<0||a.value>e[t-1].value)&&(a.validation=!1);break;case"yearly income":isNaN(+a.value)||+a.value>1e6?a.validation=!1:a.value&&(a.value=(Math.round(100*a.value)/100).toFixed(2));break;case"has children":a.validation="true"===(n=a.value).toLowerCase()||"false"===n.toLowerCase()||""===n,""===a.value&&(a.value="FALSE");break;case"license states":a.validation=!/\d/.test(a.value),a.value&&(a.value=a.value.replace(",","|").split("|").map((function(e){return e.trim().slice(0,2).toUpperCase()})).join(" | "));break;case"expiration date":a.validation=Date.parse(a.value)&&new Date(a.value)<=new Date&&(a.value.includes("/")||a.value.includes("-"));break;case"license number":a.validation=6===a.value.length&&/^[a-zA-Z\d]*$/.test(a.value)}var n,l;return a}))})).map((function(e,a){return e.map((function(t,n){if("phone"===t.name.toLowerCase()){var r=l.find((function(e,n){return n!==a&&e.find((function(e){return e.name===t.name&&e.value===t.value}))}));r&&(e[e.length-1].value=r[0].value,t.validation=!1)}if("email"===t.name.toLowerCase()){var i=l.find((function(e,n){return n!==a&&e.find((function(e){return e.name===t.name&&e.value.toLowerCase()===t.value.toLowerCase()}))}));i&&(e[e.length-1].value=i[0].value,t.validation=!1)}return t}))})),u=t.map((function(e){return{name:e.trim(),rule:s(e)}}));function s(e){switch(e.toLowerCase()){case"phone":return"should be unique and in format +1\u0445\u0445\u0445\u0445\u0445\u0445\u0445\u0445\u0445\u0445";case"email":return"should be unique";case"age":return"should be not less then 21";case"experience":return"should be not more then age";case"yearly income":return"should be integer or decimal and less 1000000";case"has children":return'should be "true" or "false"';case"license states":return'should be name of states (can be devide with "|")';case"expiration date":return"should be in format YYYY-MM-DD or MM-DD-YYYY";case"license number":return"should have 6 symbols (numbers or letters)";case"dublicate with":return"phone or email this user is repeated with the current user";default:return""}}v(i),r(u)},j=l.a.useRef(null);return Object(o.jsxs)("div",{children:[Object(o.jsx)("header",{className:"App-header",children:Object(o.jsx)("p",{children:" DataTable "})}),Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("button",{className:"App__button",title:'import data in csv format with headers "full name", "phone" and "email"',onClick:function(){j.current.click()},children:"Import users"}),Object(o.jsx)("input",{type:"file",style:{display:"none"},ref:j,accept:".csv",onChange:function(e){var a=e.target.files[0],t=new FileReader;a&&(t.readAsText(a),t.onload=function(){p(t.result)})}})]}),m?Object(o.jsx)("div",{className:"App__message",children:"File format is not correct"}):Object(o.jsx)(d,{columns:t,data:c})]})},h=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,15)).then((function(a){var t=a.getCLS,n=a.getFID,l=a.getFCP,r=a.getLCP,i=a.getTTFB;t(e),n(e),l(e),r(e),i(e)}))};i.a.render(Object(o.jsx)(l.a.StrictMode,{children:Object(o.jsx)(v,{})}),document.getElementById("root")),h()}],[[14,1,2]]]);
//# sourceMappingURL=main.6707c2cd.chunk.js.map