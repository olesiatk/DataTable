(this["webpackJsonpmy-data-table"]=this["webpackJsonpmy-data-table"]||[]).push([[0],{10:function(e,n,t){},12:function(e,n,t){"use strict";t.r(n);var a=t(1),r=t.n(a),l=t(4),i=t.n(l),c=(t(9),t(2)),u=(t(10),t(0));var o=function(){var e=Object(a.useState)([]),n=Object(c.a)(e,2),t=n[0],l=n[1],i=Object(a.useState)([]),o=Object(c.a)(i,2),s=o[0],v=o[1],d=Object(a.useState)(!1),f=Object(c.a)(d,2),h=f[0],b=f[1],m=function(e){var n=e.split(/\r\n|\n/),t=n[0].split(";");t.unshift("ID"),t.push("Dublicate with");var a=t.map((function(e){return e.toLowerCase()}));a.includes("email")&&a.includes("phone")&&a.includes("full name")?b(!1):(b(!0),console.log("bad"));var r=n.slice(1).map((function(e,n){return("".concat(n+1,"; ")+e+"; ").split(";").map((function(e,n){return{name:t[n],value:e.trim(),validation:!0}}))})).slice(0,-1);var i=r.map((function(e,n){return e.map((function(n,t){switch(n.name.toLowerCase()){case"phone":n.validation=function(e){var n=e.slice(-10);return!!Number.isInteger(+n)&&!(e.length>12||e.length<10)&&(12!==e.length||(n=e.slice(2),"+1"===e.slice(0,2)))&&(11!==e.length||(n=e.slice(2),"1"===e.slice(0,1)))}(n.value),n.validation&&10===n.value.length&&(n.value="+1"+n.value),n.validation&&11===n.value.length&&(n.value="+"+n.value);break;case"age":n.validation=!((a=n.value)<21||!Number.isInteger(+a));break;case"experience":console.log(e[t-1],n),(!Number.isInteger(+n.value)||n.value<0||n.value>e[t-1].value)&&(n.validation=!1);break;case"yearly income":isNaN(+n.value)||+n.value>1e6?n.validation=!1:n.value&&(n.value=(Math.round(100*n.value)/100).toFixed(2));break;case"has children":n.validation="true"===n.value.toLowerCase()||"false"===n.value.toLowerCase()||""===n.value,""===n.value&&(n.value="FALSE")}var a;return n}))})).map((function(e,n){return e.map((function(t,a){if("phone"===t.name.toLowerCase()){var l=r.find((function(e,a){return a!==n&&e.find((function(e){return e.value===t.value}))}));l&&(e[e.length-1].value=l[0].value,t.validation=!1)}if("email"===t.name.toLowerCase()){var i=r.find((function(e,a){return a!==n&&e.find((function(e){return e.value.toLowerCase()===t.value.toLowerCase()}))}));i&&(e[e.length-1].value=i[0].value,t.validation=!1)}return t}))})),c=t.map((function(e){return{name:e}}));v(i),l(c)},j=r.a.useRef(null);return Object(u.jsxs)("div",{children:[Object(u.jsx)("header",{className:"App-header",children:Object(u.jsx)("p",{children:" DataTable "})}),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("button",{title:'import data in csv format with headers "full name", "phone" and "email"',onClick:function(){j.current.click()},children:"Import users"}),Object(u.jsx)("input",{type:"file",style:{display:"none"},ref:j,accept:".csv",onChange:function(e){var n=e.target.files[0],t=new FileReader;n&&(t.readAsText(n),t.onload=function(){m(t.result)},t.onerror=function(){console.log(t.error)})}})]}),h?"File format is not correct":Object(u.jsxs)("table",{children:[Object(u.jsx)("thead",{children:Object(u.jsx)("tr",{children:t.map((function(e,n){return Object(u.jsx)("th",{style:{border:"1px solid black"},children:e.name},n)}))})}),Object(u.jsx)("tbody",{children:s.map((function(e,n){return Object(u.jsx)("tr",{children:e.map((function(e,n){return Object(u.jsx)("td",{style:{backgroundColor:!e.validation&&"rgb(244, 204, 204"},children:e.value},n)}))},n)}))})]})]})},s=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,13)).then((function(n){var t=n.getCLS,a=n.getFID,r=n.getFCP,l=n.getLCP,i=n.getTTFB;t(e),a(e),r(e),l(e),i(e)}))};i.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(o,{})}),document.getElementById("root")),s()},9:function(e,n,t){}},[[12,1,2]]]);
//# sourceMappingURL=main.b019e31e.chunk.js.map